{% extends 'base.html' %}

{% block title %}Migrate Database{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Database Migration</h2>
    
    <div class="card mb-4">
        <div class="card-header">
            <h4>Confirm Database Migration</h4>
        </div>
        <div class="card-body">
            <p class="alert alert-warning">
                You are about to migrate your database to a new location. Please confirm the details below.
            </p>
            
            <div class="mb-3">
                <label class="form-label">Current Database Location:</label>
                <div class="form-control bg-light">{{ source }}</div>
            </div>
            
            <div class="mb-3">
                <label class="form-label">New Database Location:</label>
                <div class="form-control bg-light">{{ destination }}</div>
            </div>
            
            <form action="{{ url_for('perform_migration') }}" method="post">
                <input type="hidden" name="source" value="{{ source }}">
                <input type="hidden" name="destination" value="{{ destination }}">
                
                <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="remove_original" name="remove_original">
                    <label class="form-check-label" for="remove_original">
                        Remove original database after successful migration
                    </label>
                </div>
                
                <div class="alert alert-info">
                    <h5>Important Notes:</h5>
                    <ul>
                        <li>Make sure you have write permissions to the new location.</li>
                        <li>This will copy your current database to the new location.</li>
                        <li>You will need to restart the application for changes to take effect.</li>
                    </ul>
                </div>
                
                <div class="d-flex gap-2">
                    <a href="{{ url_for('view_configuration') }}" class="btn btn-secondary">Cancel</a>
                    <button type="submit" class="btn btn-primary">Proceed with Migration</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}